## FILE NAME : MOAIDZ



x) Port serie
---> function special : (XtsBAS or SDOS)
  ----> ~@SAVE_T:<FILE>.BAS that waits for bytes, then timeout the port
  
    --> > RUN "SDOS" --> tha t inits "COM:" to 8000
         > 2. SAVE PRGM
          < Filename ? ---> sends a ~@SAVE_T:<FILE>.BAS
          > Please Type :
          > LIST #1
         < exit
           
          --> while no byte read yet waits infinitly
          --> when some bytes arrived : if no bytes till 2sec : consider
          --> as end of file -> close I/O file
           

  ----> ~@LOAD_T:<FILE>.BAS
           --> that deals w/ "EXEC &HEE33\r\n" @ end
            
           --> SDOS have to do :
              INIT #5,"COM:", 8000, "B"
              EXEC &HEE1F



a) SPEAKER
  see : http://www.chiptune.com/


1) le // port (DONE)
  --> 1. sur le co-proc video
      en plus de la SD on pourrait monter un speaker et lire des notes en asynchrone
      (chargement du buffer // playback du buffer (arduino)
      could also play some thunes that were stored on SDCard
  

  --> 4. LATER : monter un DB25 male sur l'autre bout du cable pour 
   --- pouvoir le reutiliser comme a l'origine


2) le port Serie (DONE)
    --> CustomSerialPort corrigee (pins: 9,10)
    --> ajouter un switch 4800bps / 8000bps

    --> ajouter un lecteur SPI SD (pins: 4,11,12,13)
      --> faire un minishell (/!\ SPI+SD ~50% prg / 50% RAM)
       --> pour que la SD soit accessible 
         - depuis le X-07 (lecture, ecriture, 'dir /', rm)
         - depuis l'UART (+mkdir, rmdir ...) (reliee a l'API de FileSystem)
  from X-07
    CHR$(255)+CHR$(254)+"RM:<filename>"+CHR$(10)
    pour gagner de l'espace : faire la meme seq. echapement+commande
    pour le X-07 et l'UART (ou ne retirer que les echapements )
    faire une fonction qui prenne une Stream en entree, cela devrait fonctionner...

 LATER : tenter de remplacer le 328P (32K prgm / 2K RAM) par un Teensy++2.0 
         (128K prgm / 8K RAM) frequence a 16MHz possible par softaware setClock.
         https://www.pjrc.com/teensy/prescaler.html (Teensy++ 2.0 ONLY)
         5v aussi // si Teensy 3.6 /!\ 3.3v sur le RT/TX (et la SD est integree...)
 
    
/!\ TODO /!\ AGRANDIR la variable CM$ (command) car la concataination depasse les 20chars


N.B: (test realis\uFFFD avec TeraTerm pour Windows)
     @ 4800bps -> 50msec between chars // 150 between lines -> can send whole "GAME1.TXT" w/o hangup
     try @ 8000bps -> place a switch on arduino 

IDEA : see Arduino UNO PIP WebBrowser
  https://github.com/zigwart/PIP-Arduino-Web-Browser
  http://hackaday.com/2014/10/05/web-browser-pushes-arduinos-limits/
  http://retro.hackaday.com/  <-- training URL